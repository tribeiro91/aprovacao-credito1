{
  "{\"sourceRoot\":\"C:\\\\Users\\\\tania\\\\Documents\\\\GitHub\\\\aprovacao-credito1\\\\backend\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\tania\\\\Documents\\\\GitHub\\\\aprovacao-credito1\\\\backend\",\"filename\":\"C:\\\\Users\\\\tania\\\\Documents\\\\GitHub\\\\aprovacao-credito1\\\\backend\\\\src\\\\controllers\\\\ClientController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\tania\\\\Documents\\\\GitHub\\\\aprovacao-credito1\\\\backend\",\"plugins\":[],\"presets\":[]}:7.5.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\controllers",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend",
      "filename": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\controllers\\ClientController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\controllers\\ClientController.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\controllers\\ClientController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\controllers",
        "sourceFileName": "ClientController.js"
      }
    },
    "ast": null,
    "code": "const Client = require('../models/Client');\n\nconst CreditRequest = require('../models/CreditRequest');\n\nconst ClientController = () => {\n  function getCredit(creditRequest) {\n    var credit = 0;\n\n    if (creditRequest.score <= 299) {\n      credit = 0;\n    } else if (creditRequest.score >= 300 && creditRequest.score <= 599) {\n      credit = 1000.00;\n    } else if (creditRequest.score >= 600 && creditRequest.score <= 799) {\n      if (creditRequest.salary / 2 < 1000) {\n        credit = 1000;\n      } else {\n        credit = creditRequest.salary / 2;\n      }\n    } else if (creditRequest.score >= 800 && creditRequest.score <= 950) {\n      credit = creditRequest.salary * 2;\n    } else if (creditRequest.score >= 951 && creditRequest.score <= 999) {\n      credit = 1000000;\n    }\n\n    return credit;\n  }\n\n  const list = async (req, res) => {\n    try {\n      const solicitacoes = await Client.findAll({\n        include: [{\n          model: CreditRequest,\n          as: 'client'\n        }]\n      });\n      return res.status(200).json(solicitacoes);\n    } catch (err) {\n      console.log(err);\n      return res.status(500).json({\n        msg: 'Ocorreu um erro durante a consulta.'\n      });\n    }\n  };\n\n  const get = async (req, res) => {\n    // destruction ES6\n    const {\n      params\n    } = req;\n\n    try {\n      const solicitacao = await Client.findById(params.id, {\n        include: [{\n          model: CreditRequest,\n          as: 'client'\n        }]\n      });\n      return res.status(200).json(solicitacao);\n    } catch (err) {\n      console.log(err);\n      return res.status(500).json({\n        msg: 'Ocorreu um erro durante a consulta.'\n      });\n    }\n  };\n\n  const create = async (req, res) => {\n    const {\n      body\n    } = req;\n\n    try {\n      body.score = Math.floor(Math.random() * (999 - 1 + 1)) + 1;\n      const client = await Client.create({\n        name: body.name,\n        cpf: body.cpf,\n        salary: body.salary,\n        score: body.score\n      });\n      const creditRequestResult = getCredit(body);\n      const creditRequest = await CreditRequest.create({\n        isApproved: creditRequestResult == 0 ? false : true,\n        credit: creditRequestResult,\n        clientId: client.id\n      });\n      await client.setClient(creditRequest);\n      res.status(201).json({\n        'message': 'Criado com sucesso'\n      });\n    } catch (err) {\n      res.status(500).json({\n        message: err.message || \"Ocorreu um erro ao salvar a solicitação do cliente.\"\n      });\n    }\n  };\n\n  const update = async (req, res) => {\n    const {\n      body,\n      params\n    } = req;\n    const client = await Client.findById(params.id, {\n      include: [{\n        model: CreditRequest,\n        as: 'client'\n      }]\n    });\n    const creditRequest = await CreditRequest.findById(params.id);\n\n    if (!client) {\n      return res.status(404).json({\n        message: \"Solicitação de cliente não encontrada com a identificação \" + req.params.clienteId\n      });\n    }\n\n    client.salary = body.salary;\n    const creditRequestResult = getCredit(client);\n    creditRequest.isApproved = creditRequestResult == 0 ? false : true;\n    creditRequest.credit = creditRequestResult;\n\n    try {\n      await Client.update(client, {\n        where: {\n          id: client.id\n        }\n      });\n      await CreditRequest.update(creditRequest, {\n        where: {\n          clientId: client.id\n        }\n      });\n      res.status(200).json({\n        'message': 'Solicitação de crédito atualizada com sucesso'\n      });\n    } catch (err) {\n      return res.status(500).json({\n        message: \"Algo aconteceu ao atualizar a solitação do cliente \" + req.params.clienteId\n      });\n    }\n  };\n\n  const destroy = async (req, res) => {\n    const {\n      params\n    } = req;\n    const client = await Client.findById(params.id);\n\n    if (!client) {\n      return res.status(404).json({\n        message: \"Solicitação de cliente não encontrada com a identificação\"\n      });\n    }\n\n    try {\n      await client.destroy({\n        include: [{\n          model: CreditRequest,\n          as: 'client'\n        }]\n      });\n      return res.status(200).json({\n        message: \"Solicitação excluída com sucesso\"\n      });\n    } catch (err) {\n      console.log(err);\n      return res.status(500).json({\n        message: \"Não foi possível excluir a solicitação \" + req.params.clienteId\n      });\n    }\n  };\n\n  return {\n    list,\n    get,\n    create,\n    update,\n    destroy\n  };\n};\n\nmodule.exports = ClientController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNsaWVudENvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiQ2xpZW50IiwicmVxdWlyZSIsIkNyZWRpdFJlcXVlc3QiLCJDbGllbnRDb250cm9sbGVyIiwiZ2V0Q3JlZGl0IiwiY3JlZGl0UmVxdWVzdCIsImNyZWRpdCIsInNjb3JlIiwic2FsYXJ5IiwibGlzdCIsInJlcSIsInJlcyIsInNvbGljaXRhY29lcyIsImZpbmRBbGwiLCJpbmNsdWRlIiwibW9kZWwiLCJhcyIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwibXNnIiwiZ2V0IiwicGFyYW1zIiwic29saWNpdGFjYW8iLCJmaW5kQnlJZCIsImlkIiwiY3JlYXRlIiwiYm9keSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImNsaWVudCIsIm5hbWUiLCJjcGYiLCJjcmVkaXRSZXF1ZXN0UmVzdWx0IiwiaXNBcHByb3ZlZCIsImNsaWVudElkIiwic2V0Q2xpZW50IiwibWVzc2FnZSIsInVwZGF0ZSIsImNsaWVudGVJZCIsIndoZXJlIiwiZGVzdHJveSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQXRCOztBQUNBLE1BQU1DLGFBQWEsR0FBR0QsT0FBTyxDQUFDLHlCQUFELENBQTdCOztBQUVBLE1BQU1FLGdCQUFnQixHQUFHLE1BQU07QUFFM0IsV0FBU0MsU0FBVCxDQUFtQkMsYUFBbkIsRUFBaUM7QUFFN0IsUUFBSUMsTUFBTSxHQUFHLENBQWI7O0FBRUEsUUFBR0QsYUFBYSxDQUFDRSxLQUFkLElBQXVCLEdBQTFCLEVBQThCO0FBQzFCRCxNQUFBQSxNQUFNLEdBQUMsQ0FBUDtBQUVILEtBSEQsTUFHTSxJQUFHRCxhQUFhLENBQUNFLEtBQWQsSUFBdUIsR0FBdkIsSUFBOEJGLGFBQWEsQ0FBQ0UsS0FBZCxJQUF1QixHQUF4RCxFQUE0RDtBQUM5REQsTUFBQUEsTUFBTSxHQUFDLE9BQVA7QUFFSCxL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QUcsQ0FBQ2MsTUFBSixDQUFXa0I7QUFEeEMsT0FBckIsQ0FBUDtBQUdIO0FBRUosR0E3QkQ7O0FBK0JBLFNBQU07QUFDRmpDLElBQUFBLElBREU7QUFFRmMsSUFBQUEsR0FGRTtBQUdGSyxJQUFBQSxNQUhFO0FBSUZhLElBQUFBLE1BSkU7QUFLRkcsSUFBQUE7QUFMRSxHQUFOO0FBUUgsQ0E5TEQ7O0FBaU1BQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIzQyxnQkFBakIiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFx0YW5pYVxcRG9jdW1lbnRzXFxHaXRIdWJcXGFwcm92YWNhby1jcmVkaXRvMVxcYmFja2VuZFxcc3JjXFxjb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IENsaWVudCA9IHJlcXVpcmUoJy4uL21vZGVscy9DbGllbnQnKTtcclxuY29uc3QgQ3JlZGl0UmVxdWVzdCA9IHJlcXVpcmUoJy4uL21vZGVscy9DcmVkaXRSZXF1ZXN0JylcclxuXHJcbmNvbnN0IENsaWVudENvbnRyb2xsZXIgPSAoKSA9PiB7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Q3JlZGl0KGNyZWRpdFJlcXVlc3Qpe1xyXG5cclxuICAgICAgICB2YXIgY3JlZGl0ID0gMDtcclxuXHJcbiAgICAgICAgaWYoY3JlZGl0UmVxdWVzdC5zY29yZSA8PSAyOTkpe1xyXG4gICAgICAgICAgICBjcmVkaXQ9MDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfWVsc2UgaWYoY3JlZGl0UmVxdWVzdC5zY29yZSA+PSAzMDAgJiYgY3JlZGl0UmVxdWVzdC5zY29yZSA8PSA1OTkpe1xyXG4gICAgICAgICAgICBjcmVkaXQ9MTAwMC4wMDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfWVsc2UgaWYoY3JlZGl0UmVxdWVzdC5zY29yZSA+PSA2MDAgJiYgY3JlZGl0UmVxdWVzdC5zY29yZSA8PSA3OTkpe1xyXG4gICAgICAgICAgICBpZihjcmVkaXRSZXF1ZXN0LnNhbGFyeSAvIDIgPCAxMDAwKXtcclxuICAgICAgICAgICAgICAgIGNyZWRpdD0xMDAwOyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBjcmVkaXQ9Y3JlZGl0UmVxdWVzdC5zYWxhcnkgLyAyIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9ZWxzZSBpZihjcmVkaXRSZXF1ZXN0LnNjb3JlID49IDgwMCAmJiBjcmVkaXRSZXF1ZXN0LnNjb3JlIDw9IDk1MCl7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNyZWRpdD1jcmVkaXRSZXF1ZXN0LnNhbGFyeSAqIDIgO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9ZWxzZSBpZihjcmVkaXRSZXF1ZXN0LnNjb3JlID49IDk1MSAmJiBjcmVkaXRSZXF1ZXN0LnNjb3JlIDw9IDk5OSl7XHJcbiAgICAgICAgICAgIGNyZWRpdD0xMDAwMDAwIDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSAgIFxyXG5cclxuICAgICAgICByZXR1cm4gY3JlZGl0O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGxpc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3Qgc29saWNpdGFjb2VzID0gYXdhaXQgQ2xpZW50LmZpbmRBbGwoe1xyXG4gICAgICAgICAgICBpbmNsdWRlOiBbe1xyXG4gICAgICAgICAgICAgICAgbW9kZWw6IENyZWRpdFJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICBhcyA6ICdjbGllbnQnXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oc29saWNpdGFjb2VzKTsgICAgICAgICAgXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ09jb3JyZXUgdW0gZXJybyBkdXJhbnRlIGEgY29uc3VsdGEuJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgY29uc3QgZ2V0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgLy8gZGVzdHJ1Y3Rpb24gRVM2XHJcbiAgICAgICAgY29uc3QgeyBwYXJhbXMgfSA9IHJlcTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3Qgc29saWNpdGFjYW8gPSBhd2FpdCBDbGllbnQuZmluZEJ5SWQocGFyYW1zLmlkLCB7XHJcbiAgICAgICAgICAgIGluY2x1ZGU6IFt7XHJcbiAgICAgICAgICAgICAgICBtb2RlbDogQ3JlZGl0UmVxdWVzdCxcclxuICAgICAgICAgICAgICAgIGFzIDogJ2NsaWVudCdcclxuICAgICAgICAgICAgfV1cclxuICAgICAgICB9KTtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihzb2xpY2l0YWNhbyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnT2NvcnJldSB1bSBlcnJvIGR1cmFudGUgYSBjb25zdWx0YS4nIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgIGNvbnN0IGNyZWF0ZSAgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICBjb25zdCB7Ym9keX0gPSByZXE7XHJcblxyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgYm9keS5zY29yZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICg5OTkgLSAxICsgMSkpICsgMTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IENsaWVudC5jcmVhdGUoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogYm9keS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgY3BmOiBib2R5LmNwZixcclxuICAgICAgICAgICAgICAgIHNhbGFyeTogYm9keS5zYWxhcnksXHJcbiAgICAgICAgICAgICAgICBzY29yZTogYm9keS5zY29yZVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNyZWRpdFJlcXVlc3RSZXN1bHQgPSBnZXRDcmVkaXQoYm9keSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjcmVkaXRSZXF1ZXN0ID0gIGF3YWl0IENyZWRpdFJlcXVlc3QuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgIGlzQXBwcm92ZWQgOiAoY3JlZGl0UmVxdWVzdFJlc3VsdCA9PSAwID8gZmFsc2UgOiB0cnVlKSxcclxuICAgICAgICAgICAgICAgIGNyZWRpdCA6Y3JlZGl0UmVxdWVzdFJlc3VsdCxcclxuICAgICAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnQuaWRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBjbGllbnQuc2V0Q2xpZW50KGNyZWRpdFJlcXVlc3QpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oeydtZXNzYWdlJzogJ0NyaWFkbyBjb20gc3VjZXNzbycgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaChlcnIpe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UgfHwgXCJPY29ycmV1IHVtIGVycm8gYW8gc2FsdmFyIGEgc29saWNpdGHDp8OjbyBkbyBjbGllbnRlLlwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gICAgXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgYm9keSwgcGFyYW1zIH0gPSByZXE7XHJcbiAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgQ2xpZW50LmZpbmRCeUlkKHBhcmFtcy5pZCwge1xyXG4gICAgICAgICAgICBpbmNsdWRlOiBbe1xyXG4gICAgICAgICAgICAgICAgbW9kZWw6IENyZWRpdFJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICBhcyA6ICdjbGllbnQnXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNyZWRpdFJlcXVlc3QgPSBhd2FpdCBDcmVkaXRSZXF1ZXN0LmZpbmRCeUlkKHBhcmFtcy5pZCk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIGlmKCFjbGllbnQpe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTb2xpY2l0YcOnw6NvIGRlIGNsaWVudGUgbsOjbyBlbmNvbnRyYWRhIGNvbSBhIGlkZW50aWZpY2HDp8OjbyBcIiArIHJlcS5wYXJhbXMuY2xpZW50ZUlkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gICBcclxuICAgICAgICBcclxuICAgICAgICBjbGllbnQuc2FsYXJ5ID0gYm9keS5zYWxhcnk7ICAgICAgICBcclxuXHJcbiAgICAgICAgY29uc3QgY3JlZGl0UmVxdWVzdFJlc3VsdCA9IGdldENyZWRpdChjbGllbnQpO1xyXG5cclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgY3JlZGl0UmVxdWVzdC5pc0FwcHJvdmVkID0gKGNyZWRpdFJlcXVlc3RSZXN1bHQgPT0gMCA/IGZhbHNlIDogdHJ1ZSk7XHJcbiAgICAgICAgY3JlZGl0UmVxdWVzdC5jcmVkaXQgPSBjcmVkaXRSZXF1ZXN0UmVzdWx0O1xyXG5cclxuXHJcbiAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICBhd2FpdCBDbGllbnQudXBkYXRlKGNsaWVudCwge1xyXG4gICAgICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZCA6IGNsaWVudC5pZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IENyZWRpdFJlcXVlc3QudXBkYXRlKGNyZWRpdFJlcXVlc3QsIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRJZCA6IGNsaWVudC5pZFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsnbWVzc2FnZSc6ICdTb2xpY2l0YcOnw6NvIGRlIGNyw6lkaXRvIGF0dWFsaXphZGEgY29tIHN1Y2Vzc28nfSk7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgIH1jYXRjaChlcnIpe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBbGdvIGFjb250ZWNldSBhbyBhdHVhbGl6YXIgYSBzb2xpdGHDp8OjbyBkbyBjbGllbnRlIFwiICsgcmVxLnBhcmFtcy5jbGllbnRlSWRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBkZXN0cm95ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBwYXJhbXMgfSA9IHJlcTtcclxuXHJcbiAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgQ2xpZW50LmZpbmRCeUlkKHBhcmFtcy5pZCk7XHJcblxyXG5cclxuICAgICAgICBpZighY2xpZW50KXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiU29saWNpdGHDp8OjbyBkZSBjbGllbnRlIG7Do28gZW5jb250cmFkYSBjb20gYSBpZGVudGlmaWNhw6fDo29cIlxyXG4gICAgICAgICAgICB9KTsgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgYXdhaXQgY2xpZW50LmRlc3Ryb3koe1xyXG4gICAgICAgICAgICAgICAgaW5jbHVkZTogW3tcclxuICAgICAgICAgICAgICAgICAgICBtb2RlbDogQ3JlZGl0UmVxdWVzdCxcclxuICAgICAgICAgICAgICAgICAgICBhcyA6ICdjbGllbnQnXHJcbiAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZSA6IFwiU29saWNpdGHDp8OjbyBleGNsdcOtZGEgY29tIHN1Y2Vzc29cIn0pO1xyXG5cclxuICAgICAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTsOjbyBmb2kgcG9zc8OtdmVsIGV4Y2x1aXIgYSBzb2xpY2l0YcOnw6NvIFwiICsgcmVxLnBhcmFtcy5jbGllbnRlSWRcclxuICAgICAgICAgICAgfSk7ICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybntcclxuICAgICAgICBsaXN0LFxyXG4gICAgICAgIGdldCxcclxuICAgICAgICBjcmVhdGUsXHJcbiAgICAgICAgdXBkYXRlLCBcclxuICAgICAgICBkZXN0cm95XHJcbiAgICB9O1xyXG5cclxufTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IENsaWVudENvbnRyb2xsZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "ClientController.js"
      ],
      "names": [
        "Client",
        "require",
        "CreditRequest",
        "ClientController",
        "getCredit",
        "creditRequest",
        "credit",
        "score",
        "salary",
        "list",
        "req",
        "res",
        "solicitacoes",
        "findAll",
        "include",
        "model",
        "as",
        "status",
        "json",
        "err",
        "console",
        "log",
        "msg",
        "get",
        "params",
        "solicitacao",
        "findById",
        "id",
        "create",
        "body",
        "Math",
        "floor",
        "random",
        "client",
        "name",
        "cpf",
        "creditRequestResult",
        "isApproved",
        "clientId",
        "setClient",
        "message",
        "update",
        "clienteId",
        "where",
        "destroy",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\controllers",
      "sourcesContent": [
        "const Client = require('../models/Client');\r\nconst CreditRequest = require('../models/CreditRequest')\r\n\r\nconst ClientController = () => {\r\n\r\n    function getCredit(creditRequest){\r\n\r\n        var credit = 0;\r\n\r\n        if(creditRequest.score <= 299){\r\n            credit=0;\r\n            \r\n        }else if(creditRequest.score >= 300 && creditRequest.score <= 599){\r\n            credit=1000.00;\r\n            \r\n        }else if(creditRequest.score >= 600 && creditRequest.score <= 799){\r\n            if(creditRequest.salary / 2 < 1000){\r\n                credit=1000;                \r\n            }else{\r\n                credit=creditRequest.salary / 2 ;\r\n            }\r\n            \r\n        }else if(creditRequest.score >= 800 && creditRequest.score <= 950){            \r\n            credit=creditRequest.salary * 2 ;\r\n            \r\n        }else if(creditRequest.score >= 951 && creditRequest.score <= 999){\r\n            credit=1000000 ;\r\n            \r\n        }   \r\n\r\n        return credit;\r\n    }\r\n\r\n    const list = async (req, res) => {\r\n        try {\r\n          const solicitacoes = await Client.findAll({\r\n            include: [{\r\n                model: CreditRequest,\r\n                as : 'client'\r\n            }]\r\n        });\r\n          return res.status(200).json(solicitacoes);          \r\n        } catch (err) {\r\n            \r\n          console.log(err);\r\n          return res.status(500).json({ msg: 'Ocorreu um erro durante a consulta.' });\r\n        }\r\n      }\r\n  \r\n      const get = async (req, res) => {\r\n        // destruction ES6\r\n        const { params } = req;\r\n        try {\r\n          const solicitacao = await Client.findById(params.id, {\r\n            include: [{\r\n                model: CreditRequest,\r\n                as : 'client'\r\n            }]\r\n        });\r\n          return res.status(200).json(solicitacao);\r\n        } catch (err) {\r\n          console.log(err);\r\n          return res.status(500).json({ msg: 'Ocorreu um erro durante a consulta.' });\r\n        }\r\n      }\r\n\r\n    const create  = async (req, res) => {\r\n        const {body} = req;\r\n\r\n        try{\r\n            body.score = Math.floor(Math.random() * (999 - 1 + 1)) + 1;\r\n\r\n            const client = await Client.create({\r\n                name: body.name,\r\n                cpf: body.cpf,\r\n                salary: body.salary,\r\n                score: body.score\r\n            });\r\n\r\n            const creditRequestResult = getCredit(body);\r\n\r\n            const creditRequest =  await CreditRequest.create({\r\n                isApproved : (creditRequestResult == 0 ? false : true),\r\n                credit :creditRequestResult,\r\n                clientId: client.id\r\n            });\r\n\r\n            await client.setClient(creditRequest);\r\n            \r\n            res.status(201).json({'message': 'Criado com sucesso'  });\r\n        }\r\n        catch(err){\r\n            \r\n            res.status(500).json({\r\n                message: err.message || \"Ocorreu um erro ao salvar a solicitação do cliente.\"\r\n            });\r\n        }    \r\n    };\r\n\r\n    const update = async (req, res) => {\r\n        const { body, params } = req;\r\n        const client = await Client.findById(params.id, {\r\n            include: [{\r\n                model: CreditRequest,\r\n                as : 'client'\r\n            }]\r\n        });\r\n\r\n        const creditRequest = await CreditRequest.findById(params.id);\r\n        \r\n\r\n        if(!client){\r\n            return res.status(404).json({\r\n                message: \"Solicitação de cliente não encontrada com a identificação \" + req.params.clienteId\r\n            });\r\n        }   \r\n        \r\n        client.salary = body.salary;        \r\n\r\n        const creditRequestResult = getCredit(client);\r\n\r\n\r\n        \r\n        creditRequest.isApproved = (creditRequestResult == 0 ? false : true);\r\n        creditRequest.credit = creditRequestResult;\r\n\r\n\r\n        try{\r\n            await Client.update(client, {\r\n                where: {\r\n                    id : client.id\r\n                }\r\n            });\r\n                await CreditRequest.update(creditRequest, {\r\n                    where: {\r\n                        clientId : client.id\r\n                    }\r\n                });                \r\n            \r\n\r\n            \r\n\r\n            res.status(200).json({'message': 'Solicitação de crédito atualizada com sucesso'});            \r\n            \r\n\r\n            \r\n\r\n        }catch(err){\r\n            return res.status(500).json({\r\n                message: \"Algo aconteceu ao atualizar a solitação do cliente \" + req.params.clienteId\r\n            });\r\n        }\r\n    };\r\n\r\n    const destroy = async (req, res) => {\r\n        const { params } = req;\r\n\r\n        const client = await Client.findById(params.id);\r\n\r\n\r\n        if(!client){\r\n            return res.status(404).json({\r\n                message: \"Solicitação de cliente não encontrada com a identificação\"\r\n            });   \r\n        }\r\n\r\n        try{\r\n            await client.destroy({\r\n                include: [{\r\n                    model: CreditRequest,\r\n                    as : 'client'\r\n                }]\r\n            });\r\n            \r\n            return res.status(200).json({message : \"Solicitação excluída com sucesso\"});\r\n\r\n        }catch(err){\r\n            console.log(err);\r\n            return res.status(500).json({\r\n                message: \"Não foi possível excluir a solicitação \" + req.params.clienteId\r\n            });      \r\n        }\r\n        \r\n    }\r\n\r\n    return{\r\n        list,\r\n        get,\r\n        create,\r\n        update, \r\n        destroy\r\n    };\r\n\r\n};\r\n\r\n\r\nmodule.exports = ClientController;"
      ]
    },
    "sourceType": "module",
    "mtime": 1567566040688
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\tania\\\\Documents\\\\GitHub\\\\aprovacao-credito1\\\\backend\\\\src\\\\models\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\tania\\\\Documents\\\\GitHub\\\\aprovacao-credito1\\\\backend\",\"filename\":\"C:\\\\Users\\\\tania\\\\Documents\\\\GitHub\\\\aprovacao-credito1\\\\backend\\\\src\\\\models\\\\Client.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\tania\\\\Documents\\\\GitHub\\\\aprovacao-credito1\\\\backend\",\"plugins\":[],\"presets\":[]}:7.5.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\models",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend",
      "filename": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\models\\Client.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\models\\Client.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\models\\Client.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\models",
        "sourceFileName": "Client.js"
      }
    },
    "ast": null,
    "code": "const Sequelize = require(\"sequelize\");\n\nconst sequelize = require(\"../config/database\");\n\nconst CreditRequest = require(\"./CreditRequest\");\n\nconst hooks = {};\nconst tableName = \"clients\";\nconst Client = sequelize.define(\"Client\", {\n  id: {\n    type: Sequelize.INTEGER,\n    autoIncrement: true,\n    primaryKey: true,\n    unique: true\n  },\n  name: {\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  cpf: {\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  salary: {\n    type: Sequelize.DECIMAL,\n    allowNull: false\n  },\n  score: {\n    type: Sequelize.INTEGER,\n    allowNull: false\n  },\n  createdAt: {\n    type: Sequelize.DATE,\n    allowNull: false,\n    defaultValue: Sequelize.NOW\n  },\n  updatedAt: {\n    type: Sequelize.DATE,\n    allowNull: false,\n    defaultValue: Sequelize.NOW\n  }\n}, {\n  hooks,\n  tableName\n});\nClient.hasOne(CreditRequest, {\n  as: 'client',\n  foreignKey: 'clientId',\n  targetKey: 'clientId'\n});\n\nClient.prototype.toJSON = function () {\n  const values = Object.assign({}, this.get());\n  return values;\n};\n\nmodule.exports = Client;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNsaWVudC5qcyJdLCJuYW1lcyI6WyJTZXF1ZWxpemUiLCJyZXF1aXJlIiwic2VxdWVsaXplIiwiQ3JlZGl0UmVxdWVzdCIsImhvb2tzIiwidGFibGVOYW1lIiwiQ2xpZW50IiwiZGVmaW5lIiwiaWQiLCJ0eXBlIiwiSU5URUdFUiIsImF1dG9JbmNyZW1lbnQiLCJwcmltYXJ5S2V5IiwidW5pcXVlIiwibmFtZSIsIlNUUklORyIsImFsbG93TnVsbCIsImNwZiIsInNhbGFyeSIsIkRFQ0lNQUwiLCJzY29yZSIsImNyZWF0ZWRBdCIsIkRBVEUiLCJkZWZhdWx0VmFsdWUiLCJOT1ciLCJ1cGRhdGVkQXQiLCJoYXNPbmUiLCJhcyIsImZvcmVpZ25LZXkiLCJ0YXJnZXRLZXkiLCJwcm90b3R5cGUiLCJ0b0pTT04iLCJ2YWx1ZXMiLCJPYmplY3QiLCJhc3NpZ24iLCJnZXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxTQUFTLEdBQUdDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFNBQVMsR0FBR0QsT0FBTyxDQUFDLG9CQUFELENBQXpCOztBQUNBLE1BQU1FLGFBQWEsR0FBR0YsT0FBTyxDQUFDLGlCQUFELENBQTdCOztBQUVBLE1BQU1HLEtBQUssR0FBRyxFQUFkO0FBRUEsTUFBTUMsU0FBUyxHQUFHLFNBQWxCO0FBRUEsTUFBTUMsTUFBTSxHQUFHSixTQUFTLENBQUNLLE1BQVYsQ0FDWCxRQURXLEVBRVg7QUFDSUMsRUFBQUEsRUFBRSxFQUFFO0FBQ0FDLElBQUFBLElBQUksRUFBR1QsU0FBUyxDQUFDVSxPQURqQjtBQUVBQyxJQUFBQSxhQUFhLEVBQUUsSUFGZjtBQUdBQyxJQUFBQSxVQUFVLEVBQUUsSUFIWjtBQUlBQyxJQUFBQSxNQUFNLEVBQUU7QUFKUixHQURSO0FBT0lDLEVBQUFBLElBQUksRUFBRztBQUNITCxJQUFBQSxJQUFJLEVBQUVULFNBQVMsQ0FBQ2UsTUFEYjtBQUVIQyxJQUFBQSxTQUFTLEVBQUU7QUFGUixHQVBYO0FBV0lDLEVBQUFBLEdBQUcsRUFBRztBQUNGUixJQUFBQSxJQUFJLEVBQUVULFNBQVMsQ0FBQ2UsTUFEZDtBQUVGQyxJQUFBQSxTQUFTLEVBQUU7QUFGVCxHQVhWO0FBZUlFLEVBQUFBLE1BQU0sRUFBRztBQUNMVCxJQUFBQSxJQUFJLEVBQUVULFNBQVMsQ0FBQ21CLE9BRFg7QUFFTEgsSUFBQUEsU0FBUyxFQUFFO0FBRk4sR0FmYjtBQW1CSUksRUFBQUEsS0FBSyxFQUFHO0FBQ0hYLElBQUFBLElBQUksRUFBRVQsU0FBUyxDQUFDVSxPQURiO0FBRUhNLElBQUFBLFNBQVMsRUFBRTtBQUZSLEdBbkJaO0FBdUJJSyxFQUFBQSxTQUFTLEVBQUU7QUFDUFosSUFBQUEsSUFBSSxFQUFFVCxTQUFTLENBQUNzQixJQURUO0FBRVBOLElBQUFBLFNBQVMsRUFBRSxLQUZKO0FBR1BPLElBQUFBLFlBQVksRUFBRXZCLFNBQVMsQ0FBQ3dCO0FBSGpCLEdBdkJmO0FBNEJJQyxFQUFBQSxTQUFTLEVBQUc7QUFDUmhCLElBQUFBLElBQUksRUFBRVQsU0FBUyxDQUFDc0IsSUFEUjtBQUVSTixJQUFBQSxTQUFTLEVBQUUsS0FGSDtBQUdSTyxJQUFBQSxZQUFZLEVBQUd2QixTQUFTLENBQUN3QjtBQUhqQjtBQTVCaEIsQ0FGVyxFQW9DWDtBQUNJcEIsRUFBQUEsS0FESjtBQUVJQyxFQUFBQTtBQUZKLENBcENXLENBQWY7QUEyQ0FDLE1BQU0sQ0FBQ29CLE1BQVAsQ0FBY3ZCLGFBQWQsRUFBNkI7QUFDekJ3QixFQUFBQSxFQUFFLEVBQUcsUUFEb0I7QUFFekJDLEVBQUFBLFVBQVUsRUFBRSxVQUZhO0FBR3pCQyxFQUFBQSxTQUFTLEVBQUc7QUFIYSxDQUE3Qjs7QUFNQXZCLE1BQU0sQ0FBQ3dCLFNBQVAsQ0FBaUJDLE1BQWpCLEdBQTBCLFlBQVU7QUFDaEMsUUFBTUMsTUFBTSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYyxFQUFkLEVBQWtCLEtBQUtDLEdBQUwsRUFBbEIsQ0FBZjtBQUNBLFNBQU9ILE1BQVA7QUFDSCxDQUhEOztBQUtBSSxNQUFNLENBQUNDLE9BQVAsR0FBaUIvQixNQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHRhbmlhXFxEb2N1bWVudHNcXEdpdEh1YlxcYXByb3ZhY2FvLWNyZWRpdG8xXFxiYWNrZW5kXFxzcmNcXG1vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIilcclxuY29uc3Qgc2VxdWVsaXplID0gcmVxdWlyZShcIi4uL2NvbmZpZy9kYXRhYmFzZVwiKVxyXG5jb25zdCBDcmVkaXRSZXF1ZXN0ID0gcmVxdWlyZShcIi4vQ3JlZGl0UmVxdWVzdFwiKVxyXG5cclxuY29uc3QgaG9va3MgPSB7fTtcclxuXHJcbmNvbnN0IHRhYmxlTmFtZSA9IFwiY2xpZW50c1wiO1xyXG5cclxuY29uc3QgQ2xpZW50ID0gc2VxdWVsaXplLmRlZmluZShcclxuICAgIFwiQ2xpZW50XCIsXHJcbiAgICB7XHJcbiAgICAgICAgaWQ6IHtcclxuICAgICAgICAgICAgdHlwZSA6IFNlcXVlbGl6ZS5JTlRFR0VSLFxyXG4gICAgICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxyXG4gICAgICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gICAgICAgICAgICB1bmlxdWU6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5hbWUgOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcsXHJcbiAgICAgICAgICAgIGFsbG93TnVsbDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNwZiA6IHtcclxuICAgICAgICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklORyxcclxuICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2FsYXJ5IDoge1xyXG4gICAgICAgICAgICB0eXBlOiBTZXF1ZWxpemUuREVDSU1BTCxcclxuICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2NvcmUgOiB7XHJcbiAgICAgICAgICAgICB0eXBlOiBTZXF1ZWxpemUuSU5URUdFUixcclxuICAgICAgICAgICAgIGFsbG93TnVsbDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWF0ZWRBdCA6e1xyXG4gICAgICAgICAgICB0eXBlOiBTZXF1ZWxpemUuREFURSxcclxuICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTZXF1ZWxpemUuTk9XXHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVkQXQgOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5EQVRFLFxyXG4gICAgICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWUgOiBTZXF1ZWxpemUuTk9XXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBob29rcyxcclxuICAgICAgICB0YWJsZU5hbWVcclxuICAgIH1cclxuKTtcclxuXHJcblxyXG5DbGllbnQuaGFzT25lKENyZWRpdFJlcXVlc3QsIHtcclxuICAgIGFzIDogJ2NsaWVudCcsXHJcbiAgICBmb3JlaWduS2V5OiAnY2xpZW50SWQnLFxyXG4gICAgdGFyZ2V0S2V5IDogJ2NsaWVudElkJyxcclxufSkgXHJcblxyXG5DbGllbnQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCl7XHJcbiAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmdldCgpKTtcclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IENsaWVudDtcclxuXHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "Client.js"
      ],
      "names": [
        "Sequelize",
        "require",
        "sequelize",
        "CreditRequest",
        "hooks",
        "tableName",
        "Client",
        "define",
        "id",
        "type",
        "INTEGER",
        "autoIncrement",
        "primaryKey",
        "unique",
        "name",
        "STRING",
        "allowNull",
        "cpf",
        "salary",
        "DECIMAL",
        "score",
        "createdAt",
        "DATE",
        "defaultValue",
        "NOW",
        "updatedAt",
        "hasOne",
        "as",
        "foreignKey",
        "targetKey",
        "prototype",
        "toJSON",
        "values",
        "Object",
        "assign",
        "get",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,oBAAD,CAAzB;;AACA,MAAME,aAAa,GAAGF,OAAO,CAAC,iBAAD,CAA7B;;AAEA,MAAMG,KAAK,GAAG,EAAd;AAEA,MAAMC,SAAS,GAAG,SAAlB;AAEA,MAAMC,MAAM,GAAGJ,SAAS,CAACK,MAAV,CACX,QADW,EAEX;AACIC,EAAAA,EAAE,EAAE;AACAC,IAAAA,IAAI,EAAGT,SAAS,CAACU,OADjB;AAEAC,IAAAA,aAAa,EAAE,IAFf;AAGAC,IAAAA,UAAU,EAAE,IAHZ;AAIAC,IAAAA,MAAM,EAAE;AAJR,GADR;AAOIC,EAAAA,IAAI,EAAG;AACHL,IAAAA,IAAI,EAAET,SAAS,CAACe,MADb;AAEHC,IAAAA,SAAS,EAAE;AAFR,GAPX;AAWIC,EAAAA,GAAG,EAAG;AACFR,IAAAA,IAAI,EAAET,SAAS,CAACe,MADd;AAEFC,IAAAA,SAAS,EAAE;AAFT,GAXV;AAeIE,EAAAA,MAAM,EAAG;AACLT,IAAAA,IAAI,EAAET,SAAS,CAACmB,OADX;AAELH,IAAAA,SAAS,EAAE;AAFN,GAfb;AAmBII,EAAAA,KAAK,EAAG;AACHX,IAAAA,IAAI,EAAET,SAAS,CAACU,OADb;AAEHM,IAAAA,SAAS,EAAE;AAFR,GAnBZ;AAuBIK,EAAAA,SAAS,EAAE;AACPZ,IAAAA,IAAI,EAAET,SAAS,CAACsB,IADT;AAEPN,IAAAA,SAAS,EAAE,KAFJ;AAGPO,IAAAA,YAAY,EAAEvB,SAAS,CAACwB;AAHjB,GAvBf;AA4BIC,EAAAA,SAAS,EAAG;AACRhB,IAAAA,IAAI,EAAET,SAAS,CAACsB,IADR;AAERN,IAAAA,SAAS,EAAE,KAFH;AAGRO,IAAAA,YAAY,EAAGvB,SAAS,CAACwB;AAHjB;AA5BhB,CAFW,EAoCX;AACIpB,EAAAA,KADJ;AAEIC,EAAAA;AAFJ,CApCW,CAAf;AA2CAC,MAAM,CAACoB,MAAP,CAAcvB,aAAd,EAA6B;AACzBwB,EAAAA,EAAE,EAAG,QADoB;AAEzBC,EAAAA,UAAU,EAAE,UAFa;AAGzBC,EAAAA,SAAS,EAAG;AAHa,CAA7B;;AAMAvB,MAAM,CAACwB,SAAP,CAAiBC,MAAjB,GAA0B,YAAU;AAChC,QAAMC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKC,GAAL,EAAlB,CAAf;AACA,SAAOH,MAAP;AACH,CAHD;;AAKAI,MAAM,CAACC,OAAP,GAAiB/B,MAAjB",
      "sourceRoot": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\models",
      "sourcesContent": [
        "const Sequelize = require(\"sequelize\")\r\nconst sequelize = require(\"../config/database\")\r\nconst CreditRequest = require(\"./CreditRequest\")\r\n\r\nconst hooks = {};\r\n\r\nconst tableName = \"clients\";\r\n\r\nconst Client = sequelize.define(\r\n    \"Client\",\r\n    {\r\n        id: {\r\n            type : Sequelize.INTEGER,\r\n            autoIncrement: true,\r\n            primaryKey: true,\r\n            unique: true\r\n        },\r\n        name : {\r\n            type: Sequelize.STRING,\r\n            allowNull: false\r\n        },\r\n        cpf : {\r\n            type: Sequelize.STRING,\r\n            allowNull: false\r\n        },\r\n        salary : {\r\n            type: Sequelize.DECIMAL,\r\n            allowNull: false\r\n        },\r\n        score : {\r\n             type: Sequelize.INTEGER,\r\n             allowNull: false\r\n        },\r\n        createdAt :{\r\n            type: Sequelize.DATE,\r\n            allowNull: false,\r\n            defaultValue: Sequelize.NOW\r\n        },\r\n        updatedAt : {\r\n            type: Sequelize.DATE,\r\n            allowNull: false,\r\n            defaultValue : Sequelize.NOW\r\n        }\r\n    },\r\n    {\r\n        hooks,\r\n        tableName\r\n    }\r\n);\r\n\r\n\r\nClient.hasOne(CreditRequest, {\r\n    as : 'client',\r\n    foreignKey: 'clientId',\r\n    targetKey : 'clientId',\r\n}) \r\n\r\nClient.prototype.toJSON = function(){\r\n    const values = Object.assign({}, this.get());\r\n    return values;\r\n};\r\n\r\nmodule.exports = Client;\r\n\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1567590405861
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\tania\\\\Documents\\\\GitHub\\\\aprovacao-credito1\\\\backend\\\\src\\\\models\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\tania\\\\Documents\\\\GitHub\\\\aprovacao-credito1\\\\backend\",\"filename\":\"C:\\\\Users\\\\tania\\\\Documents\\\\GitHub\\\\aprovacao-credito1\\\\backend\\\\src\\\\models\\\\CreditRequest.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\tania\\\\Documents\\\\GitHub\\\\aprovacao-credito1\\\\backend\",\"plugins\":[],\"presets\":[]}:7.5.5:development": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\models",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend",
      "filename": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\models\\CreditRequest.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\models\\CreditRequest.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\models\\CreditRequest.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\models",
        "sourceFileName": "CreditRequest.js"
      }
    },
    "ast": null,
    "code": "const Sequelize = require(\"sequelize\");\n\nconst sequelize = require(\"../config/database\");\n\nconst Client = require(\"./Client\");\n\nconst hooks = {};\nconst tableName = \"creditRequests\";\nconst CreditRequest = sequelize.define(\"CreditRequest\", {\n  id: {\n    type: Sequelize.INTEGER,\n    autoIncrement: true,\n    primaryKey: true,\n    unique: true\n  },\n  isApproved: {\n    type: Sequelize.BOOLEAN,\n    allowNull: false\n  },\n  credit: {\n    type: Sequelize.DECIMAL,\n    allowNull: false\n  },\n  createdAt: {\n    type: Sequelize.DATE,\n    allowNull: false,\n    defaultValue: Sequelize.NOW\n  },\n  updatedAt: {\n    type: Sequelize.DATE,\n    allowNull: false,\n    defaultValue: Sequelize.NOW\n  },\n  clientId: {\n    type: Sequelize.INTEGER\n  }\n}, {\n  hooks,\n  tableName\n});\nCreditRequest.belongsTo(Client, {\n  foreignKey: 'clientId',\n  targetKey: 'clientId',\n  onDelete: 'cascade'\n});\n\nCreditRequest.prototype.toJSON = function () {\n  const values = Object.assign({}, this.get());\n  return values;\n};\n\nmodule.exports = CreditRequest;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNyZWRpdFJlcXVlc3QuanMiXSwibmFtZXMiOlsiU2VxdWVsaXplIiwicmVxdWlyZSIsInNlcXVlbGl6ZSIsIkNsaWVudCIsImhvb2tzIiwidGFibGVOYW1lIiwiQ3JlZGl0UmVxdWVzdCIsImRlZmluZSIsImlkIiwidHlwZSIsIklOVEVHRVIiLCJhdXRvSW5jcmVtZW50IiwicHJpbWFyeUtleSIsInVuaXF1ZSIsImlzQXBwcm92ZWQiLCJCT09MRUFOIiwiYWxsb3dOdWxsIiwiY3JlZGl0IiwiREVDSU1BTCIsImNyZWF0ZWRBdCIsIkRBVEUiLCJkZWZhdWx0VmFsdWUiLCJOT1ciLCJ1cGRhdGVkQXQiLCJjbGllbnRJZCIsImJlbG9uZ3NUbyIsImZvcmVpZ25LZXkiLCJ0YXJnZXRLZXkiLCJvbkRlbGV0ZSIsInByb3RvdHlwZSIsInRvSlNPTiIsInZhbHVlcyIsIk9iamVjdCIsImFzc2lnbiIsImdldCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFNBQVMsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUMsU0FBUyxHQUFHRCxPQUFPLENBQUMsb0JBQUQsQ0FBekI7O0FBQ0EsTUFBTUUsTUFBTSxHQUFHRixPQUFPLENBQUMsVUFBRCxDQUF0Qjs7QUFFQSxNQUFNRyxLQUFLLEdBQUcsRUFBZDtBQUVBLE1BQU1DLFNBQVMsR0FBRyxnQkFBbEI7QUFFQSxNQUFNQyxhQUFhLEdBQUdKLFNBQVMsQ0FBQ0ssTUFBVixDQUNsQixlQURrQixFQUVsQjtBQUNJQyxFQUFBQSxFQUFFLEVBQUU7QUFDQUMsSUFBQUEsSUFBSSxFQUFHVCxTQUFTLENBQUNVLE9BRGpCO0FBRUFDLElBQUFBLGFBQWEsRUFBRSxJQUZmO0FBR0FDLElBQUFBLFVBQVUsRUFBRSxJQUhaO0FBSUFDLElBQUFBLE1BQU0sRUFBRTtBQUpSLEdBRFI7QUFPSUMsRUFBQUEsVUFBVSxFQUFHO0FBQ1RMLElBQUFBLElBQUksRUFBRVQsU0FBUyxDQUFDZSxPQURQO0FBRVRDLElBQUFBLFNBQVMsRUFBRTtBQUZGLEdBUGpCO0FBV0lDLEVBQUFBLE1BQU0sRUFBRztBQUNMUixJQUFBQSxJQUFJLEVBQUVULFNBQVMsQ0FBQ2tCLE9BRFg7QUFFTEYsSUFBQUEsU0FBUyxFQUFFO0FBRk4sR0FYYjtBQWVJRyxFQUFBQSxTQUFTLEVBQUU7QUFDUFYsSUFBQUEsSUFBSSxFQUFFVCxTQUFTLENBQUNvQixJQURUO0FBRVBKLElBQUFBLFNBQVMsRUFBRSxLQUZKO0FBR1BLLElBQUFBLFlBQVksRUFBRXJCLFNBQVMsQ0FBQ3NCO0FBSGpCLEdBZmY7QUFvQklDLEVBQUFBLFNBQVMsRUFBRztBQUNSZCxJQUFBQSxJQUFJLEVBQUVULFNBQVMsQ0FBQ29CLElBRFI7QUFFUkosSUFBQUEsU0FBUyxFQUFFLEtBRkg7QUFHUkssSUFBQUEsWUFBWSxFQUFHckIsU0FBUyxDQUFDc0I7QUFIakIsR0FwQmhCO0FBeUJJRSxFQUFBQSxRQUFRLEVBQUU7QUFDTmYsSUFBQUEsSUFBSSxFQUFFVCxTQUFTLENBQUNVO0FBRFY7QUF6QmQsQ0FGa0IsRUFnQ2xCO0FBQ0lOLEVBQUFBLEtBREo7QUFFSUMsRUFBQUE7QUFGSixDQWhDa0IsQ0FBdEI7QUF1Q0FDLGFBQWEsQ0FBQ21CLFNBQWQsQ0FBd0J0QixNQUF4QixFQUFnQztBQUM1QnVCLEVBQUFBLFVBQVUsRUFBRSxVQURnQjtBQUU1QkMsRUFBQUEsU0FBUyxFQUFHLFVBRmdCO0FBRzVCQyxFQUFBQSxRQUFRLEVBQUU7QUFIa0IsQ0FBaEM7O0FBTUF0QixhQUFhLENBQUN1QixTQUFkLENBQXdCQyxNQUF4QixHQUFpQyxZQUFVO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBR0MsTUFBTSxDQUFDQyxNQUFQLENBQWMsRUFBZCxFQUFrQixLQUFLQyxHQUFMLEVBQWxCLENBQWY7QUFDQSxTQUFPSCxNQUFQO0FBQ0gsQ0FIRDs7QUFPQUksTUFBTSxDQUFDQyxPQUFQLEdBQWlCOUIsYUFBakIiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFx0YW5pYVxcRG9jdW1lbnRzXFxHaXRIdWJcXGFwcm92YWNhby1jcmVkaXRvMVxcYmFja2VuZFxcc3JjXFxtb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTZXF1ZWxpemUgPSByZXF1aXJlKFwic2VxdWVsaXplXCIpXHJcbmNvbnN0IHNlcXVlbGl6ZSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIilcclxuY29uc3QgQ2xpZW50ID0gcmVxdWlyZShcIi4vQ2xpZW50XCIpXHJcblxyXG5jb25zdCBob29rcyA9IHt9O1xyXG5cclxuY29uc3QgdGFibGVOYW1lID0gXCJjcmVkaXRSZXF1ZXN0c1wiO1xyXG5cclxuY29uc3QgQ3JlZGl0UmVxdWVzdCA9IHNlcXVlbGl6ZS5kZWZpbmUoXHJcbiAgICBcIkNyZWRpdFJlcXVlc3RcIixcclxuICAgIHtcclxuICAgICAgICBpZDoge1xyXG4gICAgICAgICAgICB0eXBlIDogU2VxdWVsaXplLklOVEVHRVIsXHJcbiAgICAgICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXHJcbiAgICAgICAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgICAgICAgIHVuaXF1ZTogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNBcHByb3ZlZCA6IHtcclxuICAgICAgICAgICAgdHlwZTogU2VxdWVsaXplLkJPT0xFQU4sXHJcbiAgICAgICAgICAgIGFsbG93TnVsbDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWRpdCA6IHtcclxuICAgICAgICAgICAgdHlwZTogU2VxdWVsaXplLkRFQ0lNQUwsXHJcbiAgICAgICAgICAgIGFsbG93TnVsbDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWF0ZWRBdCA6e1xyXG4gICAgICAgICAgICB0eXBlOiBTZXF1ZWxpemUuREFURSxcclxuICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTZXF1ZWxpemUuTk9XXHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVkQXQgOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5EQVRFLFxyXG4gICAgICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWUgOiBTZXF1ZWxpemUuTk9XXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbGllbnRJZDoge1xyXG4gICAgICAgICAgICB0eXBlOiBTZXF1ZWxpemUuSU5URUdFUlxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGhvb2tzLFxyXG4gICAgICAgIHRhYmxlTmFtZVxyXG4gICAgfVxyXG4pO1xyXG5cclxuXHJcbkNyZWRpdFJlcXVlc3QuYmVsb25nc1RvKENsaWVudCwge1xyXG4gICAgZm9yZWlnbktleTogJ2NsaWVudElkJyxcclxuICAgIHRhcmdldEtleSA6ICdjbGllbnRJZCcsXHJcbiAgICBvbkRlbGV0ZTogJ2Nhc2NhZGUnXHJcbn0pXHJcblxyXG5DcmVkaXRSZXF1ZXN0LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbigpe1xyXG4gICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5nZXQoKSk7XHJcbiAgICByZXR1cm4gdmFsdWVzO1xyXG59O1xyXG5cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IENyZWRpdFJlcXVlc3Q7XHJcblxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "CreditRequest.js"
      ],
      "names": [
        "Sequelize",
        "require",
        "sequelize",
        "Client",
        "hooks",
        "tableName",
        "CreditRequest",
        "define",
        "id",
        "type",
        "INTEGER",
        "autoIncrement",
        "primaryKey",
        "unique",
        "isApproved",
        "BOOLEAN",
        "allowNull",
        "credit",
        "DECIMAL",
        "createdAt",
        "DATE",
        "defaultValue",
        "NOW",
        "updatedAt",
        "clientId",
        "belongsTo",
        "foreignKey",
        "targetKey",
        "onDelete",
        "prototype",
        "toJSON",
        "values",
        "Object",
        "assign",
        "get",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,oBAAD,CAAzB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,UAAD,CAAtB;;AAEA,MAAMG,KAAK,GAAG,EAAd;AAEA,MAAMC,SAAS,GAAG,gBAAlB;AAEA,MAAMC,aAAa,GAAGJ,SAAS,CAACK,MAAV,CAClB,eADkB,EAElB;AACIC,EAAAA,EAAE,EAAE;AACAC,IAAAA,IAAI,EAAGT,SAAS,CAACU,OADjB;AAEAC,IAAAA,aAAa,EAAE,IAFf;AAGAC,IAAAA,UAAU,EAAE,IAHZ;AAIAC,IAAAA,MAAM,EAAE;AAJR,GADR;AAOIC,EAAAA,UAAU,EAAG;AACTL,IAAAA,IAAI,EAAET,SAAS,CAACe,OADP;AAETC,IAAAA,SAAS,EAAE;AAFF,GAPjB;AAWIC,EAAAA,MAAM,EAAG;AACLR,IAAAA,IAAI,EAAET,SAAS,CAACkB,OADX;AAELF,IAAAA,SAAS,EAAE;AAFN,GAXb;AAeIG,EAAAA,SAAS,EAAE;AACPV,IAAAA,IAAI,EAAET,SAAS,CAACoB,IADT;AAEPJ,IAAAA,SAAS,EAAE,KAFJ;AAGPK,IAAAA,YAAY,EAAErB,SAAS,CAACsB;AAHjB,GAff;AAoBIC,EAAAA,SAAS,EAAG;AACRd,IAAAA,IAAI,EAAET,SAAS,CAACoB,IADR;AAERJ,IAAAA,SAAS,EAAE,KAFH;AAGRK,IAAAA,YAAY,EAAGrB,SAAS,CAACsB;AAHjB,GApBhB;AAyBIE,EAAAA,QAAQ,EAAE;AACNf,IAAAA,IAAI,EAAET,SAAS,CAACU;AADV;AAzBd,CAFkB,EAgClB;AACIN,EAAAA,KADJ;AAEIC,EAAAA;AAFJ,CAhCkB,CAAtB;AAuCAC,aAAa,CAACmB,SAAd,CAAwBtB,MAAxB,EAAgC;AAC5BuB,EAAAA,UAAU,EAAE,UADgB;AAE5BC,EAAAA,SAAS,EAAG,UAFgB;AAG5BC,EAAAA,QAAQ,EAAE;AAHkB,CAAhC;;AAMAtB,aAAa,CAACuB,SAAd,CAAwBC,MAAxB,GAAiC,YAAU;AACvC,QAAMC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKC,GAAL,EAAlB,CAAf;AACA,SAAOH,MAAP;AACH,CAHD;;AAOAI,MAAM,CAACC,OAAP,GAAiB9B,aAAjB",
      "sourceRoot": "C:\\Users\\tania\\Documents\\GitHub\\aprovacao-credito1\\backend\\src\\models",
      "sourcesContent": [
        "const Sequelize = require(\"sequelize\")\r\nconst sequelize = require(\"../config/database\")\r\nconst Client = require(\"./Client\")\r\n\r\nconst hooks = {};\r\n\r\nconst tableName = \"creditRequests\";\r\n\r\nconst CreditRequest = sequelize.define(\r\n    \"CreditRequest\",\r\n    {\r\n        id: {\r\n            type : Sequelize.INTEGER,\r\n            autoIncrement: true,\r\n            primaryKey: true,\r\n            unique: true\r\n        },\r\n        isApproved : {\r\n            type: Sequelize.BOOLEAN,\r\n            allowNull: false\r\n        },\r\n        credit : {\r\n            type: Sequelize.DECIMAL,\r\n            allowNull: false\r\n        },\r\n        createdAt :{\r\n            type: Sequelize.DATE,\r\n            allowNull: false,\r\n            defaultValue: Sequelize.NOW\r\n        },\r\n        updatedAt : {\r\n            type: Sequelize.DATE,\r\n            allowNull: false,\r\n            defaultValue : Sequelize.NOW\r\n        },\r\n        clientId: {\r\n            type: Sequelize.INTEGER\r\n        }\r\n\r\n    },\r\n    {\r\n        hooks,\r\n        tableName\r\n    }\r\n);\r\n\r\n\r\nCreditRequest.belongsTo(Client, {\r\n    foreignKey: 'clientId',\r\n    targetKey : 'clientId',\r\n    onDelete: 'cascade'\r\n})\r\n\r\nCreditRequest.prototype.toJSON = function(){\r\n    const values = Object.assign({}, this.get());\r\n    return values;\r\n};\r\n\r\n\r\n\r\nmodule.exports = CreditRequest;\r\n\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1567590562751
  }
}